/* --- 1. 基本設定とフォント --- */
body {
    font-family: 'Shippori Mincho', 'Times New Roman', serif;
    touch-action: manipulation;
    -webkit-font-smoothing: antialiased;
    overscroll-behavior-y: none;
    background-color: #f3f4f6;
}

/* スクロールバー非表示（アプリ風） */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

/* --- 2. 縦書きと小説レイアウト --- */
.writing-vertical-rl {
    writing-mode: vertical-rl;
    -webkit-writing-mode: vertical-rl;
    text-orientation: upright;
    -webkit-text-orientation: upright;
}

/* 小説の本文：1文字下げ・読みやすい行間 */
.novel-paragraph {
    text-indent: 1em;    /* 文頭の1文字下げ */
    line-height: 2.2;    /* ゆったりした行間 */
    margin-left: 0.5em;  /* 段落ごとの隙間 */
    text-align: justify; /* 文字の端を揃える */
}

/* 目次リンク：青色でタップ可能 */
.toc-link {
    color: #4f46e5;
    text-decoration: none;
    border-bottom: 1px dashed #a5b4fc;
    cursor: pointer;
    padding: 4px 0;
    display: inline-block;
}

/* 章タイトル：大きく太く */
.chapter-title {
    font-weight: bold;
    font-size: 1.3em;
    margin: 3em 0 2em 0;
    color: #1a1a1a;
}

/* あらすじエリア */
.synopsis-text {
    font-size: 0.95em;
    color: #4b5563;
    line-height: 1.8;
    margin-left: 1em;
}

/* --- 3. アニメーション --- */
@keyframes slideInRight { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

.animate-slide-in { animation: slideInRight 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
.animate-fade-in { animation: fadeIn 0.3s ease-in-out forwards; }
.animate-spin { animation: spin 1s linear infinite; }

/* --- 4. コンポーネント装飾 --- */
.glass-panel {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.book-cover-hover {
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}
.book-cover-hover:active { transform: scale(0.95); }

#loading-overlay { backdrop-filter: blur(4px); z-index: 9999; }

.vertical-image-container {
    writing-mode: horizontal-tb;
    margin: 1rem 0.5rem;
    display: inline-block;
    vertical-align: middle;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    background: white;
    padding: 8px;
    border: 1px solid #e5e7eb;
}
.vertical-image-container img { max-width: 60vw; max-height: 50vh; object-fit: contain; }

/* スマホ セーフエリア対応 */
.safe-area-pb { padding-bottom: env(safe-area-inset-bottom, 20px); }
.safe-area-pt { padding-top: env(safe-area-inset-top, 20px); }
